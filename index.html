<!DOCTYPE html>
<html lang="en" class="notranslate" translate="no">
    <head>
        <link rel="stylesheet" href="./src/style.css">
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Business sector grids</title>
    </head>
    <body>
        <div id="map" style="width:100vw; height:100vh;"></div>
            <div class="pane" style="padding-left: 2em; text-align:left; position:absolute; left:55vw; overflow-y:auto; top:7.5vh; width:30vw; height:80vh; padding-top:1em; padding-bottom: 1em;">
                <h3 style="margin-top:8px;white-space:nowrap;">Map of businesses registered in Birmingham</h3>
                <h4 style="margin-top:0;margin-bottom:20px;font-size:16px;">(According to Companies House. To be clear, these are registered office addresses, not trading addresses)</h4>
                <div class="flex-separate">
                    <div style="width:47%;">
                        Grid
                        <div style="display:flex;align-items:center;">
                            <select id="grid-selector" style="font-size:0.9em;width:60%;">
                                <option value="250">
                                    250 metres
                                </option>
                                <option value="500">
                                    500 metres
                                </option>
                                <option value="1000">
                                    1 kilometre
                                </option>
                            </select>
                            <button type="button" id="grid-from-file-button" style="white-space:nowrap;width:fit-content;margin-left:0.5em;font-size:0.7em;height:fit-content;border-radius:5px;">From file...</button>
                        </div>
                    </div>
                    <template>
                        <div style="width:47%;">
                            Basemap
                            <select id="basemap-selector" style="font-size:0.9em">
                                <option value="Esri.WorldGrayCanvas">
                                    Grey
                                </option>
                                <option value="OpenStreetMap.Mapnik">
                                    Detailed
                                </option>
                            </select>
                        </div>
                    </template>
                </div>
                <br>
                Sector to depict:
                <select id="sector-selector" style="font-size:0.9em"></select>
                <br>
                <br>
                Click a square on the left to see info here:
                <div id="scrolling-list" style="height:14em;  margin-top:1em; background-color:#fbfbfb; border:2px solid rgba(0,0,0,0.2); overflow-y:auto; font-size:0.9em;"> 
                    <div id="grid-square-info-table">
                    </div>
                    <table id="business-info-table" style="display:none;">
                        <tbody class="vert-align-top" id="business-info-table-body">
                            <tr>
                               <td id="back-to-grid-square-info">
                               </td> 
                            </tr>
                            <tr class="odd-row">
                                <td style="min-width:10em;"><strong>Name</strong></td>
                                <td id="name-td">
                                </td>
                            </tr>
                            <tr class="even-row">
                                <td style="min-width:10em;"><strong>Comp. House Link</strong></td>
                                <td id="link-td">
                                </td>
                            </tr>
                            <tr class="odd-row">
                                <td style="min-width:10em;"><strong>Nature of business</strong></td>
                                <td id="nature-of-business-td">
                                </td>
                            </tr>
                            <tr class="even-row">
                                <td style="min-width:10em;"><strong>Address</strong></td>
                                <td id="address-td">
                                </td>
                            </tr>
                            <tr class="odd-row">
                                <td style="min-width:10em;"><strong>Incorporated</strong></td>
                                <td id="incorporated-td">
                                </td>
                            </tr>
                            <tr class="odd-row">
                                <td style="min-width:10em;"><strong>Approx Coords</strong></td>
                                <td id="position-td">
                                </td>
                            </tr>
                            <tr class="odd-row">
                                <td style="min-width:10em;"><strong>Status</strong></td>
                                <td id="status-td">
                                </td>
                            </tr>
                            <tr class="even-row">
                                <td style="min-width:10em;"><strong>SIC codes</strong></td>
                                <td id="sic-codes-td">
                                </td>
                            </tr>
                            <tr class="even-row">
                                <td style="min-width:10em;"><strong>Type</strong></td>
                                <td id="type-td">
                                </td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <br>
                <div>
                    Data timestamp:
                    <div style="font-size:0.9em" id="retrieval-timestamp"></div>
                </div>
                <br>
                <div id="downloads-section" style="display:none;">
                    Download data for...
                    <br>
                    <button type="button" style="margin-top:0.5em;" id="download-current-sector-in-red-box-region">Businesses in red box region (current sector only)</button>
                    <br>
                    <button type="button" style="margin-top:0.5em;" id="download-all-in-red-box-region">Businesses in red box region (from ALL sectors)</button>
                </div>
            </div>
        <template id="time-range-template">
            <div style="width:25vw;margin:0.5vh 10vw;">
                <strong><div id="time-range-description" style="width:100%;text-align:center;">Showing businesses that were active at timeslice:</div></strong>
                <input id="time-range-slider" style="width:100%;" type="range" min="2010" step="0.075">
                <div id="sector-grids-time-range-labels-div">
                    <span style="text-align:center;" id="time-range-start-label">Loading</span>
                    <span style="text-align:center;" id="time-range-current-label">Loading</span>
                    <span style="text-align:center;" id="time-range-end-label">Loading</span>
                </div>
            </div>
        </template>
        <script type="module" src="/src/sectorGrids.js"></script>
    </body>
</html>